---
import SectionTitle from "../ui/SectionTitle.astro";
import ServiceCard from "../ui/ServiceCard.astro";
import Section from "./Section.astro";

// Asegúrate de tener estas imágenes en tu carpeta o reemplázalas con íconos/ilustraciones relevantes
import webDevImg from "../../assets/pics/card-pic1.png";
import softwareImg from "../../assets/pics/card-pic2.png";
import uiUxImg from "../../assets/pics/card-pic3.png";
import apiImg from "../../assets/pics/card-pic4.png";
import cloudImg from "../../assets/pics/card-pic5.png";
import maintenanceImg from "../../assets/pics/card-pic6.png";

const cards = [
  {
    index: 1,
    titleTop: "Desarrollo",
    titleBottom: "Web Moderno",
    img: webDevImg,
    alt: "Desarrollo web con Astro, React y Tailwind",
    link: "#",
  },
  {
    index: 2,
    titleTop: "Software a",
    titleBottom: "Medida",
    img: softwareImg,
    alt: "Aplicaciones personalizadas para tu negocio",
    link: "#",
  },
  {
    index: 3,
    titleTop: "Diseño",
    titleBottom: "UI/UX",
    img: uiUxImg,
    alt: "Experiencias de usuario intuitivas y atractivas",
    link: "#",
  },
  {
    index: 4,
    titleTop: "APIs y",
    titleBottom: "Backend",
    img: apiImg,
    alt: "Integraciones robustas y seguras con Laravel o Node.js",
    link: "#",
  },
  {
    index: 5,
    titleTop: "Infraestructura",
    titleBottom: "en la Nube",
    img: cloudImg,
    alt: "Despliegue y gestión en AWS, Vercel o Netlify",
    link: "#",
  },
  {
    index: 6,
    titleTop: "Mantenimiento",
    titleBottom: "Técnico",
    img: maintenanceImg,
    alt: "Soporte continuo y actualizaciones de seguridad",
    link: "#",
  },
];

const description =
  "Creamos soluciones tecnológicas integrales pensadas para resolver tus desafíos digitales, mejorar la eficiencia de tu negocio y ofrecer experiencias excepcionales a tus usuarios.";
---

<Section id="services">
  <div class="mt-16 mb-10" id="services-container"> <!-- ajustado: [140px] → mt-16 (4rem = ~64px) -->
    <div id="services-title">
      <SectionTitle sectionTitle="Nuestros Servicios" description={description} />
    </div>
    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8" id="services-grid">
      {
        cards.map((card) => (
          <div class="service-card">
            <ServiceCard
              index={card.index}
              titleTop={card.titleTop}
              titleBottom={card.titleBottom}
              img={card.img}
              alt={card.alt}
              link={card.link}
            />
          </div>
        ))
      }
    </div>
  </div>
</Section>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  // Animate services section on scroll
  gsap.set('#services-title', { opacity: 0, y: 50 });
  gsap.set('.service-card', { opacity: 0, y: 50 });

  gsap.to('#services-title', {
    opacity: 1,
    y: 0,
    duration: 0.8,
    ease: 'power2.out',
    scrollTrigger: {
      trigger: '#services-container',
      start: 'top 80%',
      end: 'bottom 20%',
      toggleActions: 'play none none reverse'
    }
  });

  gsap.to('.service-card', {
    opacity: 1,
    y: 0,
    duration: 0.8,
    ease: 'power2.out',
    stagger: 0.2,
    delay: 0.5,
    scrollTrigger: {
      trigger: '#services-container',
      start: 'top 80%',
      end: 'bottom 20%',
      toggleActions: 'play none none reverse'
    }
  });
</script>