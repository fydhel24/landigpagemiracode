---
import SectionTitle from "../ui/SectionTitle.astro";
import TeamCard from "../ui/TeamCard.astro";
import Section from "./Section.astro";

const description =
  "Conoce al equipo técnico detrás de nuestras soluciones digitales: desarrolladores, arquitectos y diseñadores apasionados por la tecnología.";

// Team images
import p1 from "../../assets/team/t1.png";
import p2 from "../../assets/team/t2.png";
import p3 from "../../assets/team/t3.png";

const team = [
  {
    pic: p1,
    name: "Ronald Gutierrez Flores",
    role: "Dev Fullstack",
    description:
      "10+ años desarrollando aplicaciones web y sistemas a medida. Especialista en Laravel, React y arquitectura de software escalable.",
  },
  {
    pic: p2,
    name: "Fidel Vargas Condori",
    role: "Dev Fullstack",
    description:
      "7+ años liderando proyectos de desarrollo. Experto en gestión técnica, integración de APIs y optimización de rendimiento.",
  },
  {
    pic: p3,
    name: "Guadalupe Flores Mamani",
    role: "Diseñadora UI/UX",
    description:
      "5+ años creando experiencias de usuario intuitivas y visualmente atractivas. Enfocada en accesibilidad y diseño centrado en el usuario.",
  },
];
---

<Section id="about">
  <div class="mt-16 mb-10" id="team-container">
    <div id="team-title">
      <SectionTitle sectionTitle="Equipo" description={description} />
    </div>
    <div
      class="grid grid-cols-1 md:grid-cols-1 xl:grid-cols-3 grid-rows-1 gap-10 "
      id="team-grid"
    >
      {
        team.map((member, index) => (
          <div class="team-card">
            <TeamCard
              pic={member.pic}
              name={member.name}
              role={member.role}
              description={member.description}
            />
          </div>
        ))
      }
    </div>
  </div>
</Section>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  // Animate team section on scroll
  gsap.set('#team-title', { opacity: 0, y: 50 });
  gsap.set('.team-card', { opacity: 0, y: 50 });

  gsap.to('#team-title', {
    opacity: 1,
    y: 0,
    duration: 0.8,
    ease: 'power2.out',
    scrollTrigger: {
      trigger: '#team-container',
      start: 'top 80%',
      end: 'bottom 20%',
      toggleActions: 'play none none reverse'
    }
  });

  gsap.to('.team-card', {
    opacity: 1,
    y: 0,
    duration: 0.8,
    ease: 'power2.out',
    stagger: 0.2,
    delay: 0.5,
    scrollTrigger: {
      trigger: '#team-container',
      start: 'top 80%',
      end: 'bottom 20%',
      toggleActions: 'play none none reverse'
    }
  });
</script>