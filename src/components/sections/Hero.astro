---
import Section from "./Section.astro";
import { Image } from "astro:assets";
import HeroIlust from "../../assets/pics/largo.png";
---

<Section
  id="home"
  class="relative flex items-center justify-center min-h-[70vh] md:min-h-[80vh] overflow-hidden"
>
  <!-- Imagen de fondo -->
  <Image
    src={HeroIlust}
    alt="Ilustración de desarrollo de software"
    loading="eager"
    class="absolute inset-0 w-full h-full object-cover"
    width="1920"
    height="1080"
    quality={80}
  />

  <!-- Overlay para legibilidad -->
  <div class="absolute inset-0 bg-black/20 z-0"></div>

  <!-- ✅ Contenido con MÁS PADDING: xl:px-12 xl:py-16 → más aire interno -->
  <div class="relative z-10 text-center px-6 py-10 md:px-8 md:py-12 xl:px-16 xl:py-16 md:text-left md:max-w-2xl lg:max-w-3xl">
    <h1
      class="text-4xl md:text-5xl lg:text-6xl font-bold leading-tight text-white drop-shadow-lg"
      id="hero-title"
    >
      Construimos el <span class="text-blue-600">futuro digital</span> de tu negocio
    </h1>
    <p
      class="mt-6 mb-10 text-lg md:text-xl text-gray-100 max-w-3xl mx-auto md:mx-0 drop-shadow-md"
      id="hero-description"
    >
      Desarrollamos páginas web, software a medida y experiencias digitales que impulsan tu crecimiento, optimizan procesos y conectan con todo el mundo.
    </p>
    <div id="hero-button">
      <a
        href="#contacto"
        class="inline-block px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium text-lg transition shadow-lg hover:shadow-xl"
      >
        Comenzar proyecto
      </a>
    </div>
  </div>
</Section>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  if (typeof window !== 'undefined') {
    gsap.registerPlugin(ScrollTrigger);

    gsap.from('#hero-title', {
      opacity: 0,
      y: 40,
      duration: 1,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '#home',
        start: 'top 85%',
        end: 'bottom 40%',
        toggleActions: 'play none none reverse'
      }
    });

    gsap.from('#hero-description', {
      opacity: 0,
      y: 30,
      duration: 1,
      delay: 0.2,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '#home',
        start: 'top 85%',
        end: 'bottom 40%',
        toggleActions: 'play none none reverse'
      }
    });

    gsap.from('#hero-button', {
      opacity: 0,
      y: 20,
      duration: 1,
      delay: 0.4,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '#home',
        start: 'top 85%',
        end: 'bottom 40%',
        toggleActions: 'play none none reverse'
      }
    });
  }
</script>