---
import Section from "./Section.astro";
import { Image } from "astro:assets";
import HeroIlust from "../../assets/pics/hero.svg";
---

<Section id="home">
  <div
    class="relative flex flex-col-reverse items-center md:flex-row"
    id="hero"
  >
    <div class="row items-center py-5 md:w-6/12">
      <div class="text-left space-y-3" id="hero-text">
        <h1
          class="text-4xl font-bold leading-none md:text-5xl text-center md:text-left text-gray-900 dark:text-white"
          id="hero-title"
        >
          Soluciones de <span
            class="bg-gradient-to-r from-miracode-purple to-miracode-cyan bg-clip-text text-transparent font-extrabold"
            >software innovadoras</span
          > para tu empresa
        </h1>
        <p
          class="mt-6 mb-8 text-lg text-gray-600 dark:text-gray-300 leading-relaxed text-center md:text-left md:pr-12"
          id="hero-description"
        >
          En Miracode desarrollamos software a medida, tiendas online completas,
          sistemas de gestión y aplicaciones que impulsan el crecimiento de tu
          negocio. Soluciones tecnológicas que funcionan.
        </p>
        <div
          class="w-full justify-center md:justify-start flex"
          id="hero-button"
        >
          <a
            href="#contact"
            class="px-8 py-4 bg-gradient-to-r from-miracode-purple to-miracode-cyan hover:from-miracode-cyan hover:to-miracode-purple text-white rounded-xl font-medium text-lg transition shadow-md hover:shadow-xl transform hover:-translate-y-0.5"
          >
            Comenzar proyecto
          </a>
        </div>
      </div>
    </div>
    <div class="flex justify-center py-5 md:w-6/12" id="hero-image">
      <Image
        src={HeroIlust}
        alt="Ilustración de desarrollo de software"
        loading="eager"
        class="w-96 h-96"
      />
    </div>
  </div>
</Section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  // Animate hero section on scroll
  gsap.set("#hero-text", { opacity: 0, x: -50 });
  gsap.set("#hero-image", { opacity: 0, x: 50 });

  gsap.to("#hero-text", {
    opacity: 1,
    x: 0,
    duration: 1,
    ease: "power2.out",
    scrollTrigger: {
      trigger: "#hero",
      start: "top 80%",
      end: "bottom 20%",
      toggleActions: "play none none reverse",
    },
  });

  gsap.to("#hero-image", {
    opacity: 1,
    x: 0,
    duration: 1,
    ease: "power2.out",
    delay: 0.3,
    scrollTrigger: {
      trigger: "#hero",
      start: "top 80%",
      end: "bottom 20%",
      toggleActions: "play none none reverse",
    },
  });
</script>
