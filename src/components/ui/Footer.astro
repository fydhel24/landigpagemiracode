---
import { Image } from "astro:assets";
import Facebook from "../../assets/facebook.svg";
import Linkedin from "../../assets/linkedin.svg";
import Logo from "../../assets/logo-alt.svg";
import Twitter from "../../assets/twitter.svg";

const socials = [
  { name: "Facebook", src: Facebook, link: "https://facebook.com" },
  { name: "LinkedIn", src: Linkedin, link: "https://linkedin.com" },
  { name: "Twitter", src: Twitter, link: "https://twitter.com" },
];
---

<section class="sm:px-5 footer-always-dark" id="footer">
  <div class="w-full mx-auto">
    <div class="px-[15px] py-[55px] lg:px-[60px] sm:rounded-t-[45px] footer-bg text-gray">
      <!-- Grid con 2 columnas (siempre centradas internamente) -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start justify-items-center" id="footer-main">
        <!-- Columna 1: Contacto (centrado) -->
        <div class="flex flex-col items-center text-center max-w-lg" id="footer-contact">
          <h3 class="mb-5 text-2xl text-green font-bold">Contacto</h3>
          <div class="space-y-3">
            <p><strong>Email:</strong> miracode@gmail.com</p>
            <p><strong>Celular:</strong> +519 123 4567</p>
            <p><strong>Dirección:</strong> Av. Arequipa 1234, Bolivia</p>
          </div>
        </div>

        <!-- Columna 2: Redes sociales (centrado) -->
        <div class="flex flex-col items-center text-center max-w-lg" id="footer-social">
          <h3 class="mb-5 text-2xl text-green font-bold">Síguenos</h3>
          <ul class="flex flex-wrap justify-center gap-5">
            {socials.map((item) => (
              <li key={item.name} class="footer-social-item flex flex-col items-center">
                <a
                  href={item.link}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="flex flex-col items-center gap-2 group"
                >
                  <span class="sr-only">{item.name}</span>
                  <Image
                    src={item.src}
                    alt={`${item.name} logo`}
                    class="w-10 h-10 transition-transform group-hover:scale-110"
                  />
                  <span class="text-sm font-medium">{item.name}</span>
                </a>
              </li>
            ))}
          </ul>
        </div>
      </div>

      <!-- Separador centrado -->
      <div class="h-[1px] bg-gray w-3/4 mx-auto my-6" id="footer-separator"></div>

      <!-- Copyright centrado -->
      <div class="text-center" id="footer-copyright">
        <span>© 2025 Miracode — by Copyright</span>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from 'gsap';

  if (typeof window !== 'undefined') {
    gsap.set('#footer-contact', { opacity: 0, y: 20 });
    gsap.set('#footer-social', { opacity: 0, y: 20 });
    gsap.set('#footer-separator', { scaleX: 0, transformOrigin: 'center' });
    gsap.set('#footer-copyright', { opacity: 0, y: 20 });

    gsap.to('#footer-contact', { opacity: 1, y: 0, duration: 0.7, ease: 'power2.out' });
    gsap.to('#footer-social', { opacity: 1, y: 0, duration: 0.7, ease: 'power2.out', delay: 0.15 });
    gsap.to('#footer-separator', { scaleX: 1, duration: 0.8, ease: 'power2.out', delay: 0.3 });
    gsap.to('#footer-copyright', { opacity: 1, y: 0, duration: 0.6, ease: 'power2.out', delay: 0.5 });
  }
</script>