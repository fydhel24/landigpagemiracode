---
import MainLayout from "../layouts/MainLayout.astro";
import SectionTitle from "../components/ui/SectionTitle.astro";
import Card from "../components/ui/Card.astro";
import ServiceCard from "../components/ui/ServiceCard.astro";
import { Image } from "astro:assets";

// Asegúrate de que estas imágenes representen desarrollo, no marketing
import webDev from "../assets/pics/card-pic1.png";
import software from "../assets/pics/card-pic2.png";
import uiUx from "../assets/pics/card-pic3.png";
import apis from "../assets/pics/card-pic4.png";
import cloud from "../assets/pics/card-pic5.png";
import maintenance from "../assets/pics/card-pic6.png";

const services = [
  {
    index: 1,
    titleTop: "Desarrollo",
    titleBottom: "Web Moderno",
    img: webDev,
    alt: "Desarrollo web con Astro, React y Tailwind",
    description:
      "Creamos sitios web ultrarrápidos, seguros y optimizados para SEO usando las tecnologías más modernas: Astro, React, Vue y Tailwind CSS. Ideales para landing pages, portfolios y aplicaciones web.",
    benefits: [
      "Carga instantánea",
      "Totalmente responsivo",
      "Optimizado para SEO",
      "Fácil de mantener"
    ],
    cta: "Ver ejemplos",
    link: "#cases",
  },
  {
    index: 2,
    titleTop: "Software a",
    titleBottom: "Medida",
    img: software,
    alt: "Desarrollo de software personalizado",
    description:
      "Desarrollamos aplicaciones web y de escritorio adaptadas a tus procesos únicos. Usamos Laravel, Node.js, Python o .NET según las necesidades de tu negocio y escalabilidad futura.",
    benefits: [
      "Solución 100% personalizada",
      "Integración con tus sistemas",
      "Arquitectura escalable",
      "Soporte continuo"
    ],
    cta: "Solicitar cotización",
    link: "#contacto",
  },
  {
    index: 3,
    titleTop: "Diseño",
    titleBottom: "UI/UX",
    img: uiUx,
    alt: "Diseño de interfaces de usuario",
    description:
      "Diseñamos interfaces intuitivas, accesibles y visualmente atractivas. Validamos con usuarios reales para garantizar una experiencia fluida y alta conversión.",
    benefits: [
      "Mejora en usabilidad",
      "Reducción de errores",
      "Mayor retención de usuarios",
      "Identidad visual coherente"
    ],
    cta: "Ver portfolio",
    link: "#cases",
  },
  {
    index: 4,
    titleTop: "APIs y",
    titleBottom: "Backend",
    img: apis,
    alt: "Desarrollo de APIs REST y GraphQL",
    description:
      "Creamos APIs robustas, seguras y bien documentadas para conectar tus aplicaciones, móviles o terceros. Incluimos autenticación, rate limiting y monitoreo.",
    benefits: [
      "Comunicación eficiente",
      "Alta disponibilidad",
      "Documentación clara",
      "Escalabilidad horizontal"
    ],
    cta: "Ver documentación",
    link: "#",
  },
  {
    index: 5,
    titleTop: "Infraestructura",
    titleBottom: "en la Nube",
    img: cloud,
    alt: "Despliegue en la nube con Vercel, AWS o Netlify",
    description:
      "Automatizamos el despliegue, CI/CD y monitoreo en plataformas como Vercel, AWS o Netlify. Tu software siempre disponible, seguro y actualizado.",
    benefits: [
      "Despliegue en minutos",
      "Backups automáticos",
      "Escalado automático",
      "SSL y seguridad incluidos"
    ],
    cta: "Infraestructura segura",
    link: "#contacto",
  },
  {
    index: 6,
    titleTop: "Mantenimiento",
    titleBottom: "Técnico",
    img: maintenance,
    alt: "Soporte y mantenimiento de software",
    description:
      "Ofrecemos planes de soporte continuo: actualizaciones de seguridad, corrección de bugs, mejoras de rendimiento y nuevas funcionalidades bajo demanda.",
    benefits: [
      "Tu software siempre actualizado",
      "Resolución rápida de incidentes",
      "Mejoras continuas",
      "Equipo técnico dedicado"
    ],
    cta: "Contratar soporte",
    link: "#contacto",
  },
];
---

<MainLayout
  title="Nuestros Servicios | Miracode"
  description="Desarrollo web, software a medida, diseño UI/UX, APIs, cloud y mantenimiento técnico. Soluciones tecnológicas integrales para tu negocio."
>
  <div class="py-16 px-4 mx-auto max-w-screen-xl lg:py-24 lg:px-6" id="services-page">
    <div class="text-center mb-16" id="services-header">
      <h1 class="mb-4 text-5xl font-bold tracking-tight md:text-6xl text-gray-900 dark:text-white" id="services-main-title">
        Nuestros Servicios
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto" id="services-main-description">
        En Miracode, construimos soluciones digitales robustas, escalables y centradas en resolver los desafíos reales de tu negocio.
      </p>
    </div>

    <div class="space-y-24" id="services-list">
      {services.map((service, index) => (
        <div class="service-item-page">
          <div class="mb-12">
            <ServiceCard
              index={service.index}
              titleTop={service.titleTop}
              titleBottom={service.titleBottom}
              img={service.img}
              alt={service.alt}
              link={service.link}
            />
          </div>

          <div class="grid md:grid-cols-2 gap-10 px-4">
            <div>
              <h3 class="text-2xl font-bold mb-4">Qué ofrecemos</h3>
              <p class="mb-6 text-gray-600">{service.description}</p>
              <a
                href={service.link}
                class="inline-flex items-center px-8 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition font-medium"
              >
                {service.cta}
                <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                </svg>
              </a>
            </div>

            <div class="bg-blue-50 rounded-2xl p-8">
              <h3 class="text-2xl font-bold mb-4">Beneficios</h3>
              <ul class="space-y-4">
                {service.benefits.map(benefit => (
                  <li class="flex items-start">
                    <svg class="mr-2 w-5 h-5 mt-1 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                    <span>{benefit}</span>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        </div>
      ))}
    </div>

    <div class="mt-24 text-center" id="services-cta">
      <Card>
        <div class="p-10 md:p-16">
          <h2 class="text-3xl md:text-4xl font-bold mb-6">
            ¿Listo para construir tu solución tecnológica?
          </h2>
          <p class="mb-10 text-xl text-gray-600 max-w-2xl mx-auto">
            Cuéntanos tu idea. Desarrollaremos una propuesta técnica personalizada, con estimación de tiempos, tecnologías y pasos a seguir.
          </p>
          <a
            href="#contacto"
            class="inline-flex items-center px-10 py-5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition font-medium text-xl"
          >
            Comenzar proyecto
          </a>
        </div>
      </Card>
    </div>
  </div>

  <script>
    import { gsap } from 'gsap';
    import { ScrollTrigger } from 'gsap/ScrollTrigger';

    gsap.registerPlugin(ScrollTrigger);

    // Animate services page
    gsap.set('#services-main-title', { opacity: 0, y: 50 });
    gsap.set('#services-main-description', { opacity: 0, y: 50 });
    gsap.set('.service-item-page', { opacity: 0, y: 50 });
    gsap.set('#services-cta', { opacity: 0, y: 50 });

    gsap.to('#services-main-title', {
      opacity: 1,
      y: 0,
      duration: 0.8,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '#services-page',
        start: 'top 80%',
        end: 'bottom 20%',
        toggleActions: 'play none none reverse'
      }
    });

    gsap.to('#services-main-description', {
      opacity: 1,
      y: 0,
      duration: 0.8,
      ease: 'power2.out',
      delay: 0.2,
      scrollTrigger: {
        trigger: '#services-page',
        start: 'top 80%',
        end: 'bottom 20%',
        toggleActions: 'play none none reverse'
      }
    });

    gsap.to('.service-item-page', {
      opacity: 1,
      y: 0,
      duration: 0.8,
      ease: 'power2.out',
      stagger: 0.3,
      delay: 0.4,
      scrollTrigger: {
        trigger: '#services-page',
        start: 'top 80%',
        end: 'bottom 20%',
        toggleActions: 'play none none reverse'
      }
    });

    gsap.to('#services-cta', {
      opacity: 1,
      y: 0,
      duration: 0.8,
      ease: 'power2.out',
      delay: 0.6,
      scrollTrigger: {
        trigger: '#services-page',
        start: 'top 80%',
        end: 'bottom 20%',
        toggleActions: 'play none none reverse'
      }
    });
  </script>
</MainLayout>

<style>
  .service-item:nth-child(even) {
    @apply bg-gray bg-opacity-20 py-16 -mx-4 px-4;
  }
  
  @media (min-width: 768px) {
    .service-item:nth-child(even) {
      @apply -mx-6 px-6;
    }
  }
</style>
