---
import MainLayout from "../layouts/MainLayout.astro";
import SectionTitle from "../components/ui/SectionTitle.astro";
import Card from "../components/ui/Card.astro";
import { services } from "../data/services";
---

<MainLayout
  title="Nuestros Servicios | Miracode"
  description="Desarrollo de software a medida, tiendas e-commerce, sistemas de gestión y aplicaciones personalizadas. Soluciones tecnológicas integrales para tu negocio."
>
  <div
    class="py-16 px-4 mx-auto max-w-screen-xl lg:py-24 lg:px-6"
    id="services-page"
  >
    <div class="text-center mb-16" id="services-header">
      <h1
        class="mb-4 text-5xl font-bold tracking-tight md:text-6xl text-gray-900 dark:text-white"
        id="services-main-title"
      >
        Nuestros Servicios
      </h1>
      <p
        class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto"
        id="services-main-description"
      >
        En Miracode, construimos soluciones digitales robustas, escalables y
        centradas en resolver los desafíos reales de tu negocio.
      </p>
    </div>

    <div class="space-y-16" id="services-list">
      {
        services.map((service, index) => (
          <div class="service-item-page">
            <Card>
              <div class="p-8 md:p-12">
                <div class="flex items-center gap-3 mb-6">
                  <span class="flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 font-bold text-xl">
                    {service.index}
                  </span>
                  <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white">
                    {service.titleTop} {service.titleBottom}
                  </h2>
                </div>

                <p class="text-lg text-gray-600 dark:text-gray-400 mb-4">
                  {service.brief}
                </p>

                <p class="mb-8 text-gray-700 dark:text-gray-300 leading-relaxed">
                  {service.description}
                </p>

                <div class="bg-blue-50 dark:bg-gray-700 rounded-xl p-6">
                  <h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">
                    Características principales
                  </h3>
                  <ul class="grid md:grid-cols-2 gap-3">
                    {service.features.map((feature) => (
                      <li class="flex items-start">
                        <svg
                          class="mr-2 w-5 h-5 mt-1 text-blue-600 dark:text-blue-400 flex-shrink-0"
                          fill="currentColor"
                          viewBox="0 0 20 20"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                            clip-rule="evenodd"
                          />
                        </svg>
                        <span class="text-gray-700 dark:text-gray-200">
                          {feature}
                        </span>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
            </Card>
          </div>
        ))
      }
    </div>

    <div class="mt-24 text-center" id="services-cta">
      <Card>
        <div
          class="p-10 md:p-16 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700"
        >
          <h2
            class="text-3xl md:text-4xl font-bold mb-6 text-gray-900 dark:text-white"
          >
            ¿Listo para construir tu solución tecnológica?
          </h2>
          <p
            class="mb-10 text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto"
          >
            <script>
              import { gsap } from "gsap";
              import { ScrollTrigger } from "gsap/ScrollTrigger";

              gsap.registerPlugin(ScrollTrigger);

              // Animate services page
              gsap.set("#services-main-title", { opacity: 0, y: 50 });
              gsap.set("#services-main-description", { opacity: 0, y: 50 });
              gsap.set(".service-item-page", { opacity: 0, y: 50 });
              gsap.set("#services-cta", { opacity: 0, y: 50 });

              gsap.to("#services-main-title", {
                opacity: 1,
                y: 0,
                duration: 0.8,
                ease: "power2.out",
                scrollTrigger: {
                  trigger: "#services-page",
                  start: "top 80%",
                  end: "bottom 20%",
                  toggleActions: "play none none reverse",
                },
              });

              gsap.to("#services-main-description", {
                opacity: 1,
                y: 0,
                duration: 0.8,
                ease: "power2.out",
                delay: 0.2,
                scrollTrigger: {
                  trigger: "#services-page",
                  start: "top 80%",
                  end: "bottom 20%",
                  toggleActions: "play none none reverse",
                },
              });

              gsap.to(".service-item-page", {
                opacity: 1,
                y: 0,
                duration: 0.8,
                ease: "power2.out",
                stagger: 0.2,
                scrollTrigger: {
                  trigger: "#services-list",
                  start: "top 80%",
                  toggleActions: "play none none reverse",
                },
              });

              gsap.to("#services-cta", {
                opacity: 1,
                y: 0,
                duration: 0.8,
                ease: "power2.out",
                scrollTrigger: {
                  trigger: "#services-cta",
                  start: "top 80%",
                  toggleActions: "play none none reverse",
                },
              });
            </script>
          </p>
        </div></Card>
    </div>
  </div></MainLayout
>
